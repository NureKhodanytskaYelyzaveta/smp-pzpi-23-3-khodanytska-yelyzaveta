Міністерство освіти і науки України 
Харківський національний університет радіоелектроніки




Кафедра програмної інженерії


Звіт
з лабораторної роботи №2
з дисципліни «Скриптові мови програмування»





Виконала:                                                                 Перевірив:
ст. гр. ПЗПІ-23-3                                                викладач катедри ПІ
Ходаницька Єлизавета                                         Сокорчук Ігор Петрович














Харків - 2025
        1 ІСТОРІЯ ЗМІН
№
	Дата
	Версія звіту
	Опис змін та виправлень
	1
	20.04.2025
	0.1
	Зроблено звіт
	2
	10.05.2025
	0.2
	Перероблено звіт згідно вимог
	

        2 ЗАВДАННЯ
        Створити консольний застосунок «Продовольчий магазин "Весна"».


        3 ОПИС ВИКОНАНОЇ РОБОТИ
        3.1 Створення скрипта
Спочатку було створено скрипт за допомоги команди touch (див. рис. Б.1).


        3.2 Додавання права на виконання
        Далі було додано за допомогою команди chmod і +x право для виконання скрипта (див. рис. Б.2).


        3.3 Редагування скрипта
        За допомогою команди mcedit перейшла до безпосереднього написання коду і подальшого його редагування (див. рис. Б.3).


        3.4 Скрипт і робота скрипта
        За допомогою команди php запускаємо програму (див. рис. Б.4).
        Програма виводить на екран перелік можливих дій, очікує введення значень з клавіатури, виводить повідомлення про помилки у разі неправильного вводу команди, пропонує ввести інше число (див. рис. Б.5). 
При введенні числа “1” на екрані з’явиться перелік продуктів (див. рис. Б.6).
        Після успішної перевірки на існування номеру певного товару, який ввів користувач, програма просить ввести кількість товару (див. рис. Б.7). 
        Якщо номер товару вказаний правильно, а його кількість менша за 100, то товар додається до кошику. У разі якщо товар є у кошику, а користувач його знову обирає і вказує кількість “0”, то товар видаляється з кошику. У разі неправильного вводу кількості виводиться повідомлення про помилку (див. рис. Б.8).
        Для виходу з переліку продуктів потрібно ввести “0”, і знову виводиться перелік команд (див. рис. Б.9). 
        Для отримання підсумкового рахунку потрібно ввести “2” (див. рис. Б.10).
        Для встановлення профілю потрібно ввести “3”, після чого програма попросить ім’я і вік користувача. Ім’я повинно складатися принаймні з однієї літери, а вік бути між 7 і 150 років. У разі неправильного вводу виведеться відповідне повідомлення про помилку (див. рис. Б.11).
        Для того, аби вийти з програми потрібно ввести “0” (див. рис. Б.12).


        4 ВИСНОВКИ
        Під час виконання лабораторної роботи був створений консольний застосунок «Продовольчий магазин "Весна"».


        ДОДАТОК А 
Відеозапис
Відеозапис презентації результатів лабораторної роботи: https://youtu.be/zHbPylRCxGw


Хронологічний опис відеозапису:
00:00 — Пояснення змінних
00:35 — Пояснення функції «input»
00:48 — Пояснення функції «mainMenu»
01:00 — Пояснення функції «margin»
01:55 — Пояснення функції «products»
02:25 — Пояснення функції «choose»
02:36 — Пояснення функції «cart»
04:08 — Пояснення функції «bill»
04:55 — Пояснення функції «profile»
06:08 — Цикл для роботи всіх функцій магазину
06:33 — Демонстрація роботи програми


ДОДАТОК Б 
Графічні матеріали
  

Рисунок Б.1 — Створення скрипта


  

Рисунок Б.2 — Додавання права на виконання


  

Рисунок Б.3 — Редагування скрипта


  

Рисунок Б.4 — Запуск програми
  

  

Рисунок Б.5 — Перелік можливих дій і помилка


  

Рисунок Б.6 — Перелік продуктів
  

Рисунок Б.7 — Введення кількості товару


  
  

Рисунок Б.8 — Додавання у кошик і помилка


  

Рисунок Б.9 — Повернення назад


  

Рисунок Б.10 — Підсумковий рахунок


  

Рисунок Б.11 — Налаштування профілю і помилки


  

Рисунок Б.12 — Вихід з програми


ДОДАТОК В 
Програмний код
  1 <?php
  2     $products = [
  3         1 => ["Молоко пастеризоване", 12],
  4         2 => ["Хліб чорний", 9],
  5         3 => ["Сир білий", 21],
  6         4 => ["Сметана 20%", 25],
  7         5 => ["Кефір 1%", 19],
  8         6 => ["Вода газована", 18],
  9         7 => ["Печиво \"Весна\"", 14],
 10     ];
 11
 12
 13     $profile = [];
 14     $cart = [];
 15
 16
 17     function input($message)
 18     {
 19         echo $message;
 20         return trim(fgets(STDIN));
 21     }
 22
 23
 24     function mainMenu()
 25     {
 26         echo "################################\n";
 27         echo "# ПРОДОВОЛЬЧИЙ МАГАЗИН \"ВЕСНА\" #\n";
 28         echo "################################\n";
 29         echo "1 Вибрати товар\n";
 30         echo "2 Отримати підсумковий рахунок\n";
 31         echo "3 Налаштувати свій профіль\n";
 32         echo "0 Вийти з програми\n";
 33     }
 34
 35
 36     function margin($text, $length)
 37     {
 38         $chars = iconv_strlen($text, 'UTF-8');
 39         $margin = max(0, $length - $chars);
 40         return $text . str_repeat(" ", $margin);
 41     }
 42
 43
 44     function products($products)
 45     {
 46         echo "№  " . str_pad("НАЗВА", 26) . " ЦІНА\n";
 47         foreach($products as $i => $product)
 48         {
 49             echo "$i  " . margin($product[0], 20) . "  $product[1]\n";
 50         }
 51         echo "   -----------\n";
 52         echo "0  ПОВЕРНУТИСЯ\n";
 53     }
 54
 55
 56     function choose(&$products, &$cart)
 57     {
 58         while(true)
 59         {
 60             products($products);
 61             $choice = input("Виберіть товар: ");
 62             if ($choice == "0")
 63             break;
 64             if (!isset($products[(int)$choice]))
 65             {
 66                 echo "ПОМИЛКА! Ви вказали неправильний номер товару\n";
 67                 continue;
 68             }
 69             $productName = $products[(int)$choice][0];
 70             echo "Вибрано: $productName\n";
 71             $amount = (int)input("Введіть кількість штук: ");
 72             if($amount === 0)
 73             {
 74                 if(empty($cart))
 75                 {
 76                     cart($products, $cart);
 77                 }
 78                 else
 79                 {
 80                     unset($cart[(int)$choice]);
 81                     echo "ВИДАЛЯЮ З КОШИКА\n";
 82                     cart($products, $cart);
 83                 }
 84             }
 85             elseif($amount < 100 && $amount > 0)
 86             {
 87                 $cart[(int)$choice]=$amount;
 88                 cart($products, $cart);
 89             }
 90             else
 91             {
 92                 echo "ПОМИЛКА! Ви вказали неправильну кількість товару\n";
 93                 cart($products, $cart);
 94             }
 95         }
 96     }
 97
 98
 99     function cart($products, $cart)
100     {
101         if (empty($cart))
102         {
103             echo "КОШИК ПОРОЖНІЙ\n";
104             return;
105         }
106         echo "У КОШИКУ:\n";
107         echo str_pad("НАЗВА", 26) . " КІЛЬКІСТЬ\n";
108         foreach($cart as $i => $amount)
109         {
110             echo margin($products[$i][0], 20) . "  $amount\n";
111         }
112         echo "\n";
113     }
114
115
116     function bill($products, $cart)
117     {
118         if(empty($cart))
119         {
120             cart($products, $cart);
121             return;
122         }
123         echo "№  НАЗВА          ЦІНА  КІЛЬКІСТЬ  ВАРТІСТЬ\n";
124         $total_price = 0;
125         foreach ($cart as $i => $amount)
126         {
127             $name = $products[$i][0];
128             $price = $products[$i][1];
129             $cost = $price*$amount;
130             echo "$i  " . margin($name, 21) . margin($price, 6) . margin($amount, 10) . " $cost\n";
131             $total_price +=$cost;
132         }
133         echo "РАЗОМ ДО СПЛАТИ: $total_price\n";
134         echo "\n";
135     }
136
137
138     function profile()
139     {
140         while(true)
141         {
142             $name = input("Ваше ім'я: ");
143             if (preg_match('/\p{L}/u', $name))
144             {
145                 break;
146             }
147             else
148             {
149             echo "ПОМИЛКА! Ім'я може містити лише літери, апостроф ', дефіс -, пробіл\n";
150             }
151         }
152         while(true)
153         {
154             $age = (int)input("Ваш вік: ");
155             if(!is_numeric($age))
156             {
157                 echo "ПОМИЛКА! Вік користувача потрібно вказати числом\n";
158             }
159             elseif ($age <= 7 || $age >= 150)
160             {
161             echo "ПОМИЛКА! Користувач повинен мати вік від 7 та до 150 років\n";
162             }
163             else
164             {
165                 break;
166             }
167         }
168         $profile = [$name, $age];
169         echo "\n";
170         echo "Ваше ім'я: $profile[0]\n";
171         echo "Ваш вік: $profile[1]\n";
172         echo "\n";
173     }
174
175
176     while (true)
177     {
178         mainMenu();
179         $output = input("Введіть команду: ");
180
181
182         switch($output)
183         {
184             case "1":
185                 choose($products, $cart);
186                 break;
187             case "2":
188                 bill($products, $cart);
189                 break;
190             case "3":
191                 profile();
192                 break;
193             case "0":
194                 exit;
195             default:
196                 echo "ПОМИЛКА! Введіть правильну команду\n";
197         }
198     }
199 ?>
